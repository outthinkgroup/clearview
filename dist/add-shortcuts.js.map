{"version":3,"sources":["add-shortcuts.js"],"names":["openColumnSettings","module","document","querySelector","col","closest","nodeId","dataset","node","global","FLBuilderSettingsForms","render","id","className","attrs","buttons","FLBuilderConfig","lite","simpleUi","badges","FLBuilderStrings","settings","FLBuilderSettingsConfig","nodes","preview","type","openParentColumnSettings","alert","parent","parentElement","shortcutHook","FLBuilder","addHook","window","addEventListener"],"mappings":";AAAA,CAAC,YAAW;AACV,WAASA,kBAAT,GAA8B;AAC5B;;;;;;;;;AAUA,QAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAf;;AACA,QAAI,CAACF,MAAL,EAAa;AACX,aAAO,IAAP;AACD;;AACD,QAAMG,GAAG,GAAGH,MAAM,CAACI,OAAP,CAAe,SAAf,CAAZ;AACA,QAAMC,MAAM,GAAGF,GAAG,CAACG,OAAJ,CAAYC,IAA3B;AACA,QAAMC,MAAM,GAAGR,MAAM,CAACI,OAAP,CAAe,0BAAf,IAA6C,IAA7C,GAAoD,KAAnE;AAEAK,IAAAA,sBAAsB,CAACC,MAAvB,CAA8B;AAC5BC,MAAAA,EAAE,EAAE,KADwB;AAE5BN,MAAAA,MAAM,EAAEA,MAFoB;AAG5BO,MAAAA,SAAS,EAAE,yBAHiB;AAI5BC,MAAAA,KAAK,EAAE,gBAAgBR,MAAhB,GAAyB,GAJJ;AAK5BS,MAAAA,OAAO,EACL,CAACN,MAAD,IAAW,CAACO,eAAe,CAACC,IAA5B,IAAoC,CAACD,eAAe,CAACE,QAArD,GACI,CAAC,SAAD,CADJ,GAEI,EARsB;AAS5BC,MAAAA,MAAM,EAAEV,MAAM,GAAG,CAACW,gBAAgB,CAACX,MAAlB,CAAH,GAA+B,EATjB;AAU5BY,MAAAA,QAAQ,EAAEC,uBAAuB,CAACC,KAAxB,CAA8BjB,MAA9B,CAVkB;AAW5BkB,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAE;AADC;AAXmB,KAA9B;AAeD;;AAED,WAASC,wBAAT,GAAoC;AAClCC,IAAAA,KAAK,CAAC,gBAAD,CAAL;AACA,QAAM1B,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAf;;AACA,QAAI,CAACF,MAAL,EAAa;AACX,aAAO,IAAP;AACD;;AACD,QAAMG,GAAG,GAAGH,MAAM,CAACI,OAAP,CAAe,SAAf,CAAZ;AACA,QAAMuB,MAAM,GAAGxB,GAAG,CAACyB,aAAJ,CAAkBxB,OAAlB,CAA0B,SAA1B,CAAf;;AACA,QAAI,CAACuB,MAAL,EAAa;AACX,aAAO,IAAP;AACD;;AACD,QAAMtB,MAAM,GAAGsB,MAAM,CAACrB,OAAP,CAAeC,IAA9B;AACA,QAAMC,MAAM,GAAGR,MAAM,CAACI,OAAP,CAAe,0BAAf,IAA6C,IAA7C,GAAoD,KAAnE;AAEAK,IAAAA,sBAAsB,CAACC,MAAvB,CAA8B;AAC5BC,MAAAA,EAAE,EAAE,KADwB;AAE5BN,MAAAA,MAAM,EAAEA,MAFoB;AAG5BO,MAAAA,SAAS,EAAE,yBAHiB;AAI5BC,MAAAA,KAAK,EAAE,gBAAgBR,MAAhB,GAAyB,GAJJ;AAK5BS,MAAAA,OAAO,EACL,CAACN,MAAD,IAAW,CAACO,eAAe,CAACC,IAA5B,IAAoC,CAACD,eAAe,CAACE,QAArD,GACI,CAAC,SAAD,CADJ,GAEI,EARsB;AAS5BC,MAAAA,MAAM,EAAEV,MAAM,GAAG,CAACW,gBAAgB,CAACX,MAAlB,CAAH,GAA+B,EATjB;AAU5BY,MAAAA,QAAQ,EAAEC,uBAAuB,CAACC,KAAxB,CAA8BjB,MAA9B,CAVkB;AAW5BkB,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAE;AADC;AAXmB,KAA9B;AAeD;;AACD,WAASK,YAAT,GAAwB;AACtB;AACA;AACAC,IAAAA,SAAS,CAACC,OAAV,CAAkB,oBAAlB,EAAwChC,kBAAxC;AACA+B,IAAAA,SAAS,CAACC,OAAV,CAAkB,0BAAlB,EAA8CN,wBAA9C;AACD;;AACDO,EAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgCJ,YAAhC;AACD,CA1ED","file":"add-shortcuts.js","sourceRoot":"..","sourcesContent":["(function() {\n  function openColumnSettings() {\n    /* \n    1. set up hover listener\n      - needs to grab:\n         module that is hovered\n         modules column node id = `fl-col.dataset.node\n    2. excute FLBuilderSettingsForms.render(config, callback)\n      - 2. pass settings (argument 1)\n      - 3. pass callback (argrument 2)\n\n    */\n    const module = document.querySelector(\".fl-module-overlay\");\n    if (!module) {\n      return null;\n    }\n    const col = module.closest(\".fl-col\");\n    const nodeId = col.dataset.node;\n    const global = module.closest(\".fl-block-overlay-global\") ? true : false;\n\n    FLBuilderSettingsForms.render({\n      id: \"col\",\n      nodeId: nodeId,\n      className: \"fl-builder-col-settings\",\n      attrs: 'data-node=\"' + nodeId + '\"',\n      buttons:\n        !global && !FLBuilderConfig.lite && !FLBuilderConfig.simpleUi\n          ? [\"save-as\"]\n          : [],\n      badges: global ? [FLBuilderStrings.global] : [],\n      settings: FLBuilderSettingsConfig.nodes[nodeId],\n      preview: {\n        type: \"col\",\n      },\n    });\n  }\n\n  function openParentColumnSettings() {\n    alert(\"getting parent\");\n    const module = document.querySelector(\".fl-module-overlay\");\n    if (!module) {\n      return null;\n    }\n    const col = module.closest(\".fl-col\");\n    const parent = col.parentElement.closest(\".fl-col\");\n    if (!parent) {\n      return null;\n    }\n    const nodeId = parent.dataset.node;\n    const global = module.closest(\".fl-block-overlay-global\") ? true : false;\n\n    FLBuilderSettingsForms.render({\n      id: \"col\",\n      nodeId: nodeId,\n      className: \"fl-builder-col-settings\",\n      attrs: 'data-node=\"' + nodeId + '\"',\n      buttons:\n        !global && !FLBuilderConfig.lite && !FLBuilderConfig.simpleUi\n          ? [\"save-as\"]\n          : [],\n      badges: global ? [FLBuilderStrings.global] : [],\n      settings: FLBuilderSettingsConfig.nodes[nodeId],\n      preview: {\n        type: \"col\",\n      },\n    });\n  }\n  function shortcutHook() {\n    // Register a hook listener using the key that you registered\n    // your shortcut with along with the function it should fire.\n    FLBuilder.addHook(\"openColumnSettings\", openColumnSettings);\n    FLBuilder.addHook(\"openParentColumnSettings\", openParentColumnSettings);\n  }\n  window.addEventListener(\"load\", shortcutHook);\n})();\n"]}